/* Consolidated WhatsApp widget styles matching the provided screenshot */
:root{
  --wa-green: #25d366;
  --wa-dark: #128c7e;
  --panel-bg: #ffffff; /* ensure white */
  --muted: #6b7280;
  --pill-bg: #f6f7f6;
}

#whatsapp-float{
  position:fixed;
  right:18px;
  bottom:18px;
  z-index:1400;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  display:flex;
  flex-direction:column;
  align-items:flex-end;
}

/* overlay covers the page to capture outside clicks when chat is open */
.wa-overlay{ position:fixed; inset:0; background:transparent; z-index:9998; pointer-events:auto }
#wa-faq-chat{ z-index:9999; pointer-events:auto }

/* Floating chat button */
#wa-chat-btn{
  position:relative;
  width:56px; height:56px; border-radius:50%; border:0; background:var(--wa-green); box-shadow:0 8px 20px rgba(11,15,20,0.12); display:flex; align-items:center; justify-content:center; cursor:pointer; transition:transform .12s ease;
}
#wa-chat-btn:hover{ transform: translateY(-3px) }
#wa-chat-btn img{ width:28px; height:28px; display:block }

/* notification badge on the floating button */
.wa-badge{ position:absolute; top:6px; right:6px; width:12px; height:12px; background:#ef4444; border-radius:50%; box-shadow:0 2px 6px rgba(239,68,68,0.28); border:2px solid white; pointer-events:none; }
.wa-badge::after{ content:''; position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:100%; height:100%; border-radius:50%; background:#ef4444; opacity:0.5; animation:wa-pulse 1.6s infinite ease-out; }

@keyframes wa-pulse{ 0%{ transform:translate(-50%,-50%) scale(1); opacity:0.6 } 70%{ transform:translate(-50%,-50%) scale(2.2); opacity:0 } 100%{ transform:translate(-50%,-50%) scale(2.2); opacity:0 } }

/* Chat panel */
/* panel is a flex column with capped height so it never grows beyond max-height */
#wa-faq-chat{ display:none; width:340px; max-width:92vw; border-radius:10px; overflow:hidden; box-shadow:0 10px 30px rgba(2,6,23,0.18); border:1px solid rgba(0,0,0,0.06); background: var(--panel-bg); margin-top:8px; display:flex; flex-direction:column; max-height:480px; }
/* visibility helpers */
.wa-hidden{ display:none !important; visibility:hidden !important; pointer-events:none !important; opacity:0 !important; height:0 !important; width:0 !important }

#wa-faq-chat.wa-open{ display:flex }

/* Header: avatar + title + subtitle + close */
.wa-header{ display:flex; align-items:center; justify-content:space-between; padding:12px 14px; background: linear-gradient(90deg,var(--wa-green),var(--wa-dark)); color:#fff }
.wa-header .left{ display:flex; gap:10px; align-items:center }
.wa-avatar{ width:36px; height:36px; border-radius:50%; overflow:hidden; display:flex; align-items:center; justify-content:center }
.wa-sub{ font-size:12px; color:rgba(255,255,255,0.95) }
.wa-close{ background:transparent; border:0; color:rgba(255,255,255,0.95); font-size:18px; cursor:pointer }

/* Messages area */
.wa-header{ background: linear-gradient(90deg,var(--wa-green),var(--wa-dark)); color:#fff }
.wa-quick{ display:grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap:10px; padding:12px; background: #ffffff }
.wa-quick-btn{ width:100%; background:var(--pill-bg); border:1px solid rgba(0,0,0,0.04); padding:10px 12px; border-radius:999px; cursor:pointer; font-size:14px; color:#111; text-align:center }
.wa-quick-btn:hover{ background:#eef7ef }

/* messages area grows to fill available panel space and scrolls internally */
#wa-messages{ background: #ffffff; padding:14px; overflow:auto; display:flex; flex-direction:column; gap:10px; flex:1 }
.wa-bubble{ padding:10px 12px; border-radius:12px; max-width:78%; word-break:break-word }
.wa-bubble--bot{ background:#f3f4f6; color:#111 }
.wa-bubble--user{ background:#dcf8c6; color:#111; align-self:flex-end }

/* highlighted user bubble for 'Hablar con el proveedor' */
.wa-bubble--highlight{ box-shadow: 0 8px 22px rgba(37, 211, 102, 0.16); border:1px solid rgba(37,211,102,0.18); background: linear-gradient(180deg, #f7fff9, #e6ffec); position:relative; }
.wa-bubble--highlight::before{ content:''; position:absolute; left:-6px; top:10px; bottom:10px; width:4px; background:linear-gradient(180deg,#25D366,#128C7E); border-radius:2px }

/* Quick replies: vertical stack of pills like screenshot */
#wa-input{ flex:1; padding:10px 12px; border-radius:8px; border:1px solid rgba(0,0,0,0.06); font-size:14px; background: #fff }
.wa-actions{ display:flex; gap:10px; padding:12px; align-items:center; border-top:1px solid rgba(0,0,0,0.06); background: #ffffff }
#wa-send{ background:var(--wa-green); color:white; border:0; padding:9px 14px; border-radius:8px; cursor:pointer }

/* small screen tweaks */
@media (max-width:480px){
  #whatsapp-float{ right:12px; bottom:12px }
  #wa-faq-chat{ width:92vw }
  .wa-quick-btn{ font-size:13px; padding:8px 12px }
}

/* accessibility focus */
#wa-chat-btn:focus, .wa-quick-btn:focus, .wa-close:focus, #wa-send:focus{ outline:3px solid rgba(37,211,102,0.18); outline-offset:2px }
